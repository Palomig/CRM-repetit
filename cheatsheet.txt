# üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞ - –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

## ‚ö° –°—É–ø–µ—Ä–∫—Ä–∞—Ç–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
python3 setup_project.py

# 2. –õ–æ–∫–∞–ª—å–Ω–æ
cd tutor_crm
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
python manage.py migrate
python manage.py createsuperuser
python manage.py runserver

# 3. –î–µ–ø–ª–æ–π
bash deploy_to_timeweb.sh username domain.ru
```

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```bash
python3 setup_project.py
```

### –ú–∞—Å—Ç–µ—Ä-—Å–∫—Ä–∏–ø—Ç (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é)
```bash
bash start.sh
```

### –î–µ–ø–ª–æ–π –Ω–∞ Timeweb
```bash
bash deploy_to_timeweb.sh username domain.ru
```

---

## üêç Django –∫–æ–º–∞–Ω–¥—ã

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
python manage.py runserver
python manage.py runserver 0.0.0.0:8000  # –î–æ—Å—Ç—É–ø –ø–æ —Å–µ—Ç–∏
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏
```bash
python manage.py makemigrations
python manage.py migrate
python manage.py showmigrations
```

### –°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```bash
python manage.py createsuperuser
```

### –°—Ç–∞—Ç–∏–∫–∞
```bash
python manage.py collectstatic
python manage.py collectstatic --noinput
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
python manage.py check
python manage.py check --deploy
```

### –ö–æ–Ω—Å–æ–ª—å
```bash
python manage.py shell
```

### –¢–µ—Å—Ç—ã
```bash
python manage.py test
python manage.py test apps.students
```

---

## üì¶ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ
```bash
python3 -m venv venv
```

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è
```bash
source venv/bin/activate          # Linux/Mac
venv\Scripts\activate             # Windows
```

### –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
```bash
deactivate
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
pip install -r requirements.txt --upgrade
pip install -r requirements.txt --force-reinstall
```

---

## üåê SSH –∏ Timeweb

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```bash
ssh username@domain.ru
```

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è venv –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
source ~/venv/bin/activate
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ WSGI
```bash
touch ~/public_html/wsgi.py
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
tail -f ~/logs/error.log
tail -f ~/logs/access.log
tail -n 100 ~/logs/error.log
```

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
```bash
chmod 755 ~/public_html/wsgi.py
chmod 644 ~/public_html/.htaccess
find ~/public_html/tutor_crm -type f -exec chmod 644 {} \;
find ~/public_html/tutor_crm -type d -exec chmod 755 {} \;
```

---

## üíæ Backup –ë–î

### –°–æ–∑–¥–∞–Ω–∏–µ
```bash
mysqldump -u username -p database_name > backup_$(date +%Y%m%d).sql
mysqldump -u username -p database_name | gzip > backup_$(date +%Y%m%d).sql.gz
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
mysql -u username -p database_name < backup.sql
gunzip < backup.sql.gz | mysql -u username -p database_name
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SECRET_KEY
```bash
python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
python -c "import secrets; print(secrets.token_urlsafe(50))"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ .env
```bash
cat .env | grep SECRET_KEY
cat .env | grep DEBUG
cat .env | grep DB_
```

---

## üìù Git –∫–æ–º–∞–Ω–¥—ã

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/user/repo.git
git push -u origin main
```

### –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞
```bash
git status
git diff
git add .
git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
git push
```

### –í–µ—Ç–∫–∏
```bash
git branch                        # –°–ø–∏—Å–æ–∫ –≤–µ—Ç–æ–∫
git checkout -b feature-name      # –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É
git checkout main                 # –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è
git merge feature-name            # –°–ª–∏—Ç—å –≤–µ—Ç–∫—É
git branch -d feature-name        # –£–¥–∞–ª–∏—Ç—å –≤–µ—Ç–∫—É
```

### –ò—Å—Ç–æ—Ä–∏—è
```bash
git log
git log --oneline
git log --graph --oneline --all
```

### –û—Ç–º–µ–Ω–∞
```bash
git checkout -- filename          # –û—Ç–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git reset --soft HEAD~1           # –û—Ç–º–µ–Ω–∏—Ç—å –∫–æ–º–º–∏—Ç
git stash                         # –í—Ä–µ–º–µ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
git stash pop                     # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
python manage.py check
python manage.py check --deploy
```

### –¢–µ—Å—Ç –ë–î
```bash
python manage.py dbshell
```

### –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
```bash
pip list
pip list | grep Django
pip list | grep mysql
```

### –í–µ—Ä—Å–∏—è Python
```bash
python --version
python3 --version
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Ç–µ–π
```bash
which python
which python3
which pip
```

---

## üìä –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Django

### Shell
```python
python manage.py shell

# –í shell:
from apps.students.models import Student, Parent
Student.objects.all()
Student.objects.count()
Student.objects.filter(status='active')
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ shell
```python
from apps.students.models import Parent, Student

parent = Parent.objects.create(
    name="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    phone="+79001234567"
)

student = Student.objects.create(
    name="–ü–µ—Ç—Ä –ò–≤–∞–Ω–æ–≤",
    grade=5,
    parent=parent,
    subject="–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
    learning_type="group",
    status="active"
)
```

### –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```python
Student.objects.all().delete()
Parent.objects.all().delete()
```

---

## üßπ –û—á–∏—Å—Ç–∫–∞

### –£–¥–∞–ª–µ–Ω–∏–µ __pycache__
```bash
find . -type d -name __pycache__ -exec rm -r {} +
find . -name "*.pyc" -delete
```

### –£–¥–∞–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
```bash
find . -path "*/migrations/*.py" -not -name "__init__.py" -delete
find . -path "*/migrations/*.pyc" -delete
```

---

## üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ
```bash
pip list --outdated
pip install --upgrade pip
pip install -r requirements.txt --upgrade
```

### –ó–∞–º–æ—Ä–æ–∑–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip freeze > requirements.txt
```

---

## üéØ –ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –û—à–∏–±–∫–∞ 500 –Ω–∞ Timeweb
```bash
# 1. –õ–æ–≥–∏
tail -f ~/logs/error.log

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç–∏ –≤ wsgi.py
cat ~/public_html/wsgi.py

# 3. –ü—Ä–∞–≤–∞
chmod 755 ~/public_html/wsgi.py

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
touch ~/public_html/wsgi.py
```

### –°—Ç–∞—Ç–∏–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
```bash
cd ~/public_html/tutor_crm
source ~/venv/bin/activate
python manage.py collectstatic --noinput
```

### –ë–î –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env
cat .env | grep DB_

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
python manage.py dbshell
```

---

## üìù .env —Ñ–∞–π–ª

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```env
DEBUG=True
SECRET_KEY=dev-key
ALLOWED_HOSTS=localhost,127.0.0.1

DB_NAME=tutor_crm
DB_USER=root
DB_PASSWORD=
DB_HOST=localhost
DB_PORT=3306
```

### Production (Timeweb)
```env
DEBUG=False
SECRET_KEY=–¥–ª–∏–Ω–Ω—ã–π-—Å–ª—É—á–∞–π–Ω—ã–π-–∫–ª—é—á-50-—Å–∏–º–≤–æ–ª–æ–≤
ALLOWED_HOSTS=domain.ru,www.domain.ru

DB_NAME=–∏–º—è_–±–∞–∑—ã
DB_USER=–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
DB_PASSWORD=–ø–∞—Ä–æ–ª—å
DB_HOST=localhost
DB_PORT=3306
```

---

## üîÑ Workflow

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# 1. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
nano apps/students/models.py

# 2. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py makemigrations

# 3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
python manage.py migrate

# 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
python manage.py runserver

# 5. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git add .
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è"
git push
```

### –î–µ–ø–ª–æ–π
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ GitHub Actions
git push

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
bash deploy_to_timeweb.sh username domain.ru

# –ò–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh username@domain.ru
cd ~/public_html/tutor_crm
source ~/venv/bin/activate
git pull
python manage.py migrate
python manage.py collectstatic --noinput
touch ~/public_html/wsgi.py
```

---

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ URL

```
/                       ‚Üí Dashboard
/admin/                 ‚Üí –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
/students/              ‚Üí –°–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤
/students/<id>/         ‚Üí –ö–∞—Ä—Ç–æ—á–∫–∞ —É—á–µ–Ω–∏–∫–∞
/students/create/       ‚Üí –î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞
/teachers/              ‚Üí –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏
/schedule/              ‚Üí –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
/finance/               ‚Üí –§–∏–Ω–∞–Ω—Å—ã
/tasks/                 ‚Üí –ó–∞–¥–∞—á–∏
```

---

## üé® Tailwind –∫–ª–∞—Å—Å—ã (—á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ)

```html
<!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã -->
<div class="container mx-auto p-4">

<!-- –°–µ—Ç–∫–∞ -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">

<!-- –ö–Ω–æ–ø–∫–∏ -->
<button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">

<!-- –ö–∞—Ä—Ç–æ—á–∫–∏ -->
<div class="bg-white rounded-lg shadow p-6">

<!-- –§–æ—Ä–º—ã -->
<input class="w-full px-4 py-2 border rounded">

<!-- –¢–∞–±–ª–∏—Ü—ã -->
<table class="min-w-full">
```

---

## üÜò –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### ModuleNotFoundError: No module named 'django'
```bash
source venv/bin/activate
pip install -r requirements.txt
```

### django.db.utils.OperationalError
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env –∏ —Å–æ–∑–¥–∞—Ç—å –ë–î
cat .env
python manage.py migrate
```

### Static files not found
```bash
python manage.py collectstatic --noinput
```

### Permission denied
```bash
chmod 755 wsgi.py
chmod 644 .htaccess
```

---

## ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
python manage.py runserver

# –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã?
python manage.py migrate

# –°—Ç–∞—Ç–∏–∫–∞ —Å–æ–±—Ä–∞–Ω–∞?
python manage.py collectstatic

# .env –Ω–∞—Å—Ç—Ä–æ–µ–Ω?
cat .env

# –°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω?
python manage.py createsuperuser

# –ù–∞ Timeweb –≤—Å—ë –∑–∞–≥—Ä—É–∂–µ–Ω–æ?
ls ~/public_html/tutor_crm/

# –ü—Ä–∞–≤–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ?
ls -la ~/public_html/wsgi.py

# –ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω?
touch ~/public_html/wsgi.py
```

---

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç—É —à–ø–∞—Ä–≥–∞–ª–∫—É!** üìå